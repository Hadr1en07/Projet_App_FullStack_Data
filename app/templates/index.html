<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>MyFantasyLeague ‚Ä¢ UI</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    /* --- BASES & RESET --- */
    :root { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    html, body { height: 100%; margin: 0; background:#0b1220; color:#e8eefc; overflow: hidden; /* Stop scroll global */ }
    
    /* --- HEADER --- */
    header { 
        height: 60px; 
        display:flex; justify-content:space-between; align-items:center; 
        padding:0 20px; background:#0e1730; border-bottom: 1px solid #233063;
        box-sizing: border-box;
    }
    h1 { margin:0; font-size:20px; letter-spacing:.3px; }
    .tag { font-size:12px; padding:2px 8px; border:1px solid #2b3a66; border-radius:999px; color:#9fb4ff; }
    
    /* --- LAYOUT PRINCIPAL (DASHBOARD) --- */
    main { 
        height: calc(100vh - 60px); /* Toute la hauteur moins le header */
        padding: 20px; 
        box-sizing: border-box;
        display: flex; 
        flex-direction: column;
    }

    /* --- ONGLETS --- */
    .tab-nav { display: flex; gap: 10px; margin-bottom: 15px; border-bottom: 1px solid #233063; padding-bottom: 10px; flex-shrink: 0; }
    .tab-btn { background: transparent; border: none; color: #8fa5ff; font-size: 16px; padding: 8px 16px; cursor: pointer; border-radius: 8px; transition: all 0.2s; }
    .tab-btn:hover { background: #132154; color: #bcd0ff; }
    .tab-btn.active { background: #4f7dff; color: white; font-weight: bold; }
    
    .tab-content { display: none; height: 100%; }
    .tab-content.active { display: block; }

    /* --- GRID JEU (Terrain √† gauche, Liste √† droite) --- */
    #viewGame.tab-content.active { 
        display: grid; 
        gap: 20px; 
        /* GAUCHE (1fr = espace restant) | DROITE (400px fixe) */
        grid-template-columns: 1fr 420px; 
        height: 100%; /* Important pour le scroll */
        overflow: hidden; 
    }

    /* --- COLONNES SCROLLABLES --- */
    .col-left, .col-right {
        overflow-y: auto; 
        padding-right: 5px; /* Evite que la scrollbar cache le contenu */
        height: 100%;
        display: flex;
        flex-direction: column;
        gap: 20px;
    }
    
    /* Scrollbar stylis√©e (optionnel mais joli) */
    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: #0b1220; }
    ::-webkit-scrollbar-thumb { background: #233063; border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: #4f7dff; }

    /* --- COMPOSANTS --- */
    section, form, .card { background:#0f1a3a; border:1px solid #233063; border-radius:14px; padding:16px; flex-shrink: 0; }
    section h2 { margin:0 0 10px; font-size:16px; color:#bcd0ff; }
    
    .row { display:flex; gap:10px; }
    .right { text-align:right; }
    .muted { color:#8fa5ff; font-size:12px; }
    .ok { color:#7fffb0; } 
    
    /* --- FORMULAIRES --- */
    label { display:block; font-size:12px; color:#9fb4ff; margin:8px 0 4px; }
    input { width:100%; padding:10px 12px; border-radius:10px; border:1px solid #2b3a66; background:#0b1533; color:#e8eefc; box-sizing: border-box; }
    button { background:#4f7dff; border:none; color:white; padding:10px 14px; border-radius:12px; cursor:pointer; font-weight:600; }
    button.ghost { background:transparent; border:1px solid #2b3a66; color:#bcd0ff; }
    button:hover { opacity: 0.9; }
    button:disabled { opacity: 0.5; cursor: not-allowed; }

    /* --- LISTE JOUEURS --- */
    .list { display:grid; gap:10px; }
    .player { display:grid; grid-template-columns: 1fr 60px 90px 80px; align-items:center; gap:8px; padding:10px 12px; border:1px solid #223063; border-radius:12px; background:#0d1837; }
    .pill { font-size:11px; padding:2px 6px; border-radius:999px; background:#132154; border:1px solid #2b3a66; color:#c6d6ff; text-align:center; white-space: nowrap; }

    /* --- BARRE BUDGET --- */
    .budget-bar-bg { background: #132154; height: 10px; border-radius: 5px; margin-top: 8px; overflow: hidden; }
    .budget-bar-fill { background: #7fffb0; height: 100%; width: 100%; transition: width 0.3s ease; }

    /* --- TERRAIN (PITCH) --- */
    .pitch {
      background: #2e8b57; /* Vert */
      border: 4px solid #fff; border-radius: 8px;
      position: relative; 
      /* Hauteur dynamique mais minimum 600px */
      flex-grow: 1; min-height: 600px; 
      margin-top: 20px;
      display: flex; flex-direction: column; justify-content: space-between;
      padding: 20px;
      box-shadow: inset 0 0 50px rgba(0,0,0,0.3);
    }
    .pitch::before { content: ""; position: absolute; top: 50%; left: 0; right: 0; height: 2px; background: rgba(255,255,255,0.4); }
    .pitch::after { content: ""; position: absolute; top: 50%; left: 50%; width: 100px; height: 100px; border: 2px solid rgba(255,255,255,0.4); border-radius: 50%; transform: translate(-50%, -50%); }

    .pitch-row { display: flex; justify-content: center; gap: 20px; z-index: 1; }

    .player-token {
      background: #1e293b; border: 2px solid #4f7dff; border-radius: 8px;
      padding: 8px; width: 90px; text-align: center; position: relative;
      box-shadow: 0 4px 6px rgba(0,0,0,0.3); transition: transform 0.2s; color: white;
    }
    .player-token:hover { transform: translateY(-5px); z-index: 10; border-color: #fff; }
    .player-name { font-size: 11px; font-weight: bold; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-top:4px; }
    .player-cost { font-size: 10px; color: #7fffb0; }
    .player-pos { font-size: 9px; opacity: 0.7; text-transform: uppercase; }

    .btn-remove-x {
      position: absolute; top: -8px; right: -8px;
      background: #ff5c5c; color: white; border: 2px solid #1e293b; border-radius: 50%;
      width: 20px; height: 20px; font-size: 12px; line-height: 18px;
      cursor: pointer; display: flex; align-items: center; justify-content: center; font-weight: bold; z-index: 20;
    }
    .btn-remove-x:hover { background: #ff2a2a; transform: scale(1.1); }
  </style>
</head>
<body>
  <header>
    <h1>MyFantasyLeague</h1>
    <div class="row">
      <span id="authStatus" class="tag">d√©connect√©</span>
      <button id="btnLogout" class="ghost" style="display:none">Se d√©connecter</button>
    </div>
  </header>

  <main>
    <nav class="tab-nav">
      <button class="tab-btn active" onclick="switchTab('auth')">üîê Connexion</button>
      <button class="tab-btn" onclick="switchTab('game')">‚öΩ Mon √âquipe</button>
    </nav>

    <div id="viewAuth" class="tab-content active">
      <section style="max-width: 400px; margin: 0 auto;">
        <h2>Authentification</h2>
        <p class="muted">Connectez-vous pour g√©rer votre √©quipe.</p>
        
        <div id="formLogin" class="card" style="margin-bottom: 20px;">
            <h3>Se connecter</h3>
            <label for="loginEmail">Email</label>
            <input id="loginEmail" type="email" placeholder="you@example.com" />
            <label for="loginPassword">Mot de passe</label>
            <input id="loginPassword" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
            <div class="row" style="margin-top:10px">
              <button id="btnLogin" type="button">Se connecter</button>
            </div>
            <div id="loginMsg" class="muted" style="margin-top:6px"></div>
        </div>

        <div id="formRegister" class="card">
            <h3>Cr√©er un compte</h3>
            <label for="regEmail">Email</label>
            <input id="regEmail" type="email" placeholder="you@example.com" />
            <label for="regPassword">Mot de passe</label>
            <input id="regPassword" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
            <div class="row" style="margin-top:10px">
              <button id="btnRegister" type="button">S‚Äôinscrire</button>
            </div>
            <div id="regMsg" class="muted" style="margin-top:6px"></div>
        </div>
      </section>
    </div>

    <div id="viewGame" class="tab-content">
      <div class="col-left list">
        <section>
          <h2>Mon √©quipe</h2>
          <div class="row" style="align-items:end">
            <div style="flex:1">
              <label for="teamName">Nom de l‚Äô√©quipe</label>
              <input id="teamName" type="text" placeholder="Dream FC" />
            </div>
            <div>
              <label>&nbsp;</label>
              <button id="btnCreateTeam" type="button">Cr√©er / R√©initialiser</button>
            </div>
          </div>
          
          <div id="teamCard" class="card" style="margin-top:10px">
            <div class="row" style="justify-content:space-between; align-items:center;">
              <div>
                <div class="muted">Nom</div>
                <div id="teamTitle" style="font-weight:700; font-size:18px">‚Äì</div>
              </div>
              <div class="right">
                <div class="muted">Budget restant</div>
                <div id="teamBudget" class="ok">‚Äì</div>
              </div>
            </div>
            
            <div class="budget-bar-bg">
              <div id="budgetBar" class="budget-bar-fill" style="width: 100%;"></div>
            </div>

            <div style="margin-top:12px">
              <div class="muted">Formation (Terrain)</div>
              <div id="soccerPitch" class="pitch">
                </div>
            </div>
          </div>
          <div id="teamMsg" class="muted" style="margin-top:6px"></div>
        </section>
      </div>

      <div class="col-right list">
        <section>
          <h2>Joueurs du pool</h2>
          <div class="row" style="justify-content:space-between; align-items:center">
            <div class="muted">GET /players</div>
            <button id="btnRefreshPlayers" class="ghost" type="button">Rafra√Æchir</button>
          </div>

          <div id="playersList" class="list" style="margin-top:12px"></div>
          <div id="playersMsg" class="muted" style="margin-top:6px"></div>

          <div class="row" style="justify-content: center; margin-top: 15px; gap: 10px;">
            <button id="btnPrev" class="ghost" disabled>‚óÄ Pr√©c√©dent</button>
            <span id="pageIndicator" class="muted" style="align-self:center">Page 1</span>
            <button id="btnNext" class="ghost">Suivant ‚ñ∂</button>
          </div>
        </section>
      </div>
    </div>
  </main>

  <script src="/static/js/app.js?v=5" defer></script>
</body>
</html>